import requests
import pandas
import pathlib


# https://genome.ucsc.edu/cgi-bin/hgBlat?userSeq=[seq]&type=[type]&db=[database]&output=json

seq_type = 'DNA'
seq_database = 'hg19'
seq = 'ATGGCTGCAGGAAAATTTGCAAGCCTTCCCAGAAACATGCCGGTGAATCACCAGTTCCCCCTGGCCTCATCCATGGACCTTCTGAGCAGCAGGTCCCCTCTCGCTGAGCATCGCCCAGATGCCTATCAAGATGTGTCTATACATGGCACCCTTCCACGGAAGAAAAAAGGTCCTCCTCCCATAAGGTCCTGTGATGACTTCAGTCACATGGGCACCCTCCCCCACTCCAAATCCCCACGGCAGAACTCGCCTGTGACCCAGGATGGCATCCAGGAGAGCCCATGGCAGGACCGGCACGGCGAAACCTTCACCTTCAGGGATCCACATCTTCTGGACCCAACTGTGGAATATGTGAAGTTCTCCAAGGAGAGGCACATCATGGACAGGACCCCCGAGAAACTGAAGAAGGAGCTGGAGGAGGAGCTGCTCCTGAGCAGCGAGGACCTGCGCAGCCATGCCTGGTACCACGGCCGCATCCCCCGACAGGTGTCTGAAAACCTTGTGCAGCGAGATGGTGACTTCCTAGTTCGTGACTCTCTGTCCAGCCCTGGGAACTTTGTCCTGACCTGTCAGTGGAAGAACCTCGCTCAGCACTTCAAAATCAACCGGACAGTTCTGCGACTCAGCGAGGCCTACAGCCGCGTGCAGTACCAGTTCGAGATGGAGAGCTTCGACTCCATCCCCGGCCTGGTGCGCTGCTACGTGGGCAACCGCCGGCCCATCTCCCAGCAGAGTGGCGCCATCATCTTCCAGCCCATCAACAGGACGGTGCCTCTGCGGTGCCTGGAGGAGCATTATGGCACCTCCCCAGGCCAGGCCCGGGAGGGCAGCCTCACCAAGGGAAGGCCGGATGTGGCCAAGAGGCTGAGCCTCACCATGGGTGGCGTCCAGGCCCGAGAGCAGAATTTGCCCAGGGGAAACCTCCTCAGGGAGTACCCCTGTGGCAACTCAACACCCTGGAAGACTCCTTCTGTGTCCCCAAACATCACCCAGCTGTTCCAGAAGCAGAAATGGACACAGGTCAACCCTTCACCATCCTGCAGGTGCAGCACCAGGGAGAAGCTCACCATGCTGCCAGAGTGCCCCGAGGGTGCCGGGGGCCTCCCGCCCCCCCAGAGAACACAGCGCAGCACGGAAATTCTACAAGACCTGACGGACAGGAACATCTCCGACTTCTTGGTAAAAACGTATCCTGCTCTTATAAGAAGCAGCTTAAAGAGCAAATTCTGGGTCAATGAACAGAGGTATGGAGGAATTTCCATTGGAGGAAAGCTCCCAGTCGTCCCCATCACGGGGGAAGCACTTGTTGGGTTTTTAAGCGACCTTGGCCGGATCATGAATGTGAGCGGGGGCCCTATCACTAGAGAGGCCTCTAAAGAAATACCTGATTTCCTTAAACATCTAGAAACTGAAGACAACATTAAGGTGTGGTTTAATAACAAAGGCTGGCATGCCCTGGTCAGCTTTCTCAATGTGGCCCACAACGCCATCTTACGGGCCAGCCTGCCTAAGGACAGGAGCCCCGAGGAGTATGGAATCACCGTCATTAGCCAACCCCTGAACCTGACCAAGGAGCAGCTCTCAGAGATTACAGTGCTGACCACTTCAGTGGATGCTGTGGTTGCCATCTGCGTGATTTTCTCCATGTCCTTCGTCCCAGCCAGCTTTGTCCTTTATTTGATCCAGGAGCGGGTGAACAAATCCAAGCACCTCCAGTTTATCAGTGGAGTGAGCCCCACCACCTACTGGGTGACCAACTTCCTCTGGGACATCATGAATTATTCCGTGAGTGCTGGGCTGGTGGTGGGCATCTTCATCGGGTTTCAGAAGAAAGCCTACACTTCTCCAGAAAACCTTCCTGCCCTTGTGGCACTGCTCCTGCTGTATGGATGGGCGGTCATTCCCATGATGTACCCAGCATCCTTCCTGTTTGATGTCCCCAGCACAGCCTATGTGGCTTTATCTTGTGCTAATCTGTTCATCGGCATCAACAGCAGTGCTATTACCTTCATCTTGGAATTATTTGAGAATAACCGGACGCTGCTCAGGTTCAACGCCGTGCTGAGGAAGCTGCTCATTGTCTTCCCCCACTTCTGCCTGGGCCGGGGCCTCATTGACCTTGCACTGAGCCAGGCTGTGACAGATGTCTATGCCCGGTTTGGTGAGGAGCACTCTGCAAATCCGTTCCACTGGGACCTGATTGGGAAGAACCTGTTTGCCATGGTGGTGGAAGGGGTGGTGTACTTCCTCCTGACCCTGCTGGTCCAGCGCCACTTCTTCCTCTCCCAATGGATTGCCGAGCCCACTAAGGAGCCCATTGTTGATGAAGATGATGATGTGGCTGAAGAAAGACAAAGAATTATTACTGGTGGAAATAAAACTGACATCTTAAGGCTACATGAACTAACCAAGATTTATCCAGGCACCTCCAGCCCAGCAGTGGACAGGCTGTGTGTCGGAGTTCGCCCTGGAGAGTGCTTTGGCCTCCTGGGAGTGAATGGTGCCGGCAAAACAACCACATTCAAGATGCTCACTGGGGACACCACAGTGACCTCAGGGGATGCCACCGTAGCAGGCAAGAGTATTTTAACCAATATTTCTGAAGTCCATCAAAATATGGGCTACTGTCCTCAGTTTGATGCAATTGATGAGCTGCTCACAGGACGAGAACATCTTTACCTTTATGCCCGGCTTCGAGGTGTACCAGCAGAAGAAATCGAAAAGGTTGCAAACTGGAGTATTAAGAGCCTGGGCCTGACTGTCTACGCCGACTGCCTGGCTGGCACGTACAGTGGGGGCAACAAGCGGAAACTCTCCACAGCCATCGCACTCATTGGCTGCCCACCGCTGGTGCTGCTGGATGAGCCCACCACAGGGATGGACCCCCAGGCACGCCGCATGCTGTGGAACGTCATCGTGAGCATCATCAGAGAAGGGAGGGCTGTGGTCCTCACATCCCACAGCATGGAAGAATGTGAGGCACTGTGTACCCGGCTGGCCATCATGGTAAAGGGCGCCTTTCGATGTATGGGCACCATTCAGCATCTCAAGTCCAAATTTGGAGATGGCTATATCGTCACAATGAAGATCAAATCCCCGAAGGACGACCTGCTTCCTGACCTGAACCCTGTGGAGCAGTTCTTCCAGGGGAACTTCCCAGGCAGTGTGCAGAGGGAGAGGCACTACAACATGCTCCAGTTCCAGGTCTCCTCCTCCTCCCTGGCGAGGATCTTCCAGCTCCTCCTCTCCCACAAGGACAGCCTGCTCATCGAGGAGTACTCAGTCACACAGACCACACTGGACCAGGTGTTTGTAAATTTTGCTAAACAGCAGACTGAAAGTCATGACCTCCCTCTGCACCCTCGAGCTGCTGGAGCCAGTCGACAAGCCCAGGACTGA'


blat_url = f'https://genome.ucsc.edu/cgi-bin/hgBlat?userSeq={seq}&type={seq_type}&db={seq_database}&output=json'
# want refSeqComposite
tack_url =  f'https://api.genome.ucsc.edu/getData/track?genome=hg19;track=refSeqComposite;chrom=1'


response: dict = requests.get(blat_url).json()

# for field in response['fields']:
#     print(field)
for blat in response['blat']:
    print("#### ####")
    for i, alignment in enumerate(blat):
        print(f"{response['fields'][i]}: {alignment}")
    print("#### ####")


# import UT Database
# keep only genes with len(seq) > 1000
# For each row
#     blat seq